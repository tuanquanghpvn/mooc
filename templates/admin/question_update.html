{% extends 'admin/layout/base.html' %}
{% load staticfiles %}

{% block 'css' %}
    <link rel="stylesheet" href="{% static 'admin/plugins/iCheck/all.css' %}">
{% endblock %}

{% block 'content' %}
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Question
            <small>Update</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="/admin"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="/admin/question">Question</a></li>
            <li class="active">Update</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <form action="" method="POST" enctype="multipart/form-data">
                    <div class="box box-danger">
                        <div class="box-header with-border">
                            <div class="pull-left">
                                <a class="btn btn-xs btn-warning" href="{% url 'admin:list_question' %}">Back</a>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            {% csrf_token %}
                            <div class="form-group {% if form.group.errors %} has-error {% endif %}">
                                {{ form.group.label_tag }}
                                {{ form.group }}
                                <span class="help-block">{{ form.group.errors }}</span>
                            </div>

                            <div class="form-group {% if form.level.errors %} has-error {% endif %}">
                                {{ form.level.label_tag }}
                                {{ form.level }}
                                <span class="help-block">{{ form.level.errors }}</span>
                            </div>

                            <div class="form-group {% if form.type.errors %} has-error {% endif %}">
                                {{ form.type.label_tag }}
                                {{ form.type }}
                                <span class="help-block">{{ form.type.errors }}</span>
                            </div>

                            <div class="form-group {% if form.category.errors %} has-error {% endif %}">
                                {{ form.category.label_tag }}
                                {{ form.category }}
                                <span class="help-block">{{ form.category.errors }}</span>
                            </div>

                            <div class="form-group {% if form.content.errors %} has-error {% endif %}">
                                <label>Question:</label>
                                <input name="{{ form.content.name }}" type="text" class="form-control" value="{{ form.content.value|default_if_none:'' }}" placeholder="Enter question">
                                <span class="help-block">{{ form.content.errors }}</span>
                            </div>

                            <hr>

                            {{ formset.management_form }}
                            {% for frm in formset %}
                            {{ frm.id }}
                            <div class="form-group {% if frm.content.errors %} has-error {% endif %}">
                                <label>Answer {{ forloop.counter }}: {{ frm.correct }}</label>
                                {{ frm.content }}
                                <span class="help-block">{{ frm.content.errors }}</span>
                            </div>
                            {% endfor %}

                        </div>
                        <!-- /.box-body -->
                        <div class="box-footer">
                            <button type="submit" class="btn btn-primary pull-right">Save</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

    </section>
    <!-- /.content -->
{% endblock %}

{% block 'js' %}
    <!-- iCheck 1.0.1 -->
    <script src="{% static 'admin/plugins/iCheck/icheck.min.js' %}"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            //iCheck for checkbox and radio inputs
            $('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({
                checkboxClass: 'icheckbox_minimal-blue',
                radioClass: 'iradio_minimal-blue'
            });
        });
    </script>
{% endblock %}
